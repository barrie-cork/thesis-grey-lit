{
  "relations": [
    { "source": "form:accounts.SignUpForm", "target": "model:accounts.User", "type": "BASED_ON_MODEL" },
    { "source": "form:accounts.ProfileForm", "target": "model:accounts.User", "type": "BASED_ON_MODEL" },
    { "source": "view:accounts.SignUpView", "target": "form:accounts.SignUpForm", "type": "USES_FORM" },
    { "source": "view:accounts.SignUpView", "target": "template:accounts/signup.html", "type": "RENDERS_TEMPLATE" },
    { "source": "view:accounts.SignUpView", "target": "model:accounts.User", "type": "MANAGES_MODEL_INSTANCE" },
    { "source": "view:accounts.ProfileView", "target": "form:accounts.ProfileForm", "type": "USES_FORM" },
    { "source": "view:accounts.ProfileView", "target": "template:accounts/profile.html", "type": "RENDERS_TEMPLATE" },
    { "source": "view:accounts.ProfileView", "target": "model:accounts.User", "type": "MANAGES_MODEL_INSTANCE" },
    { "source": "view:accounts.CustomLoginView", "target": "form:accounts.CustomAuthenticationForm", "type": "USES_FORM" },
    { "source": "view:accounts.CustomLoginView", "target": "template:accounts/login.html", "type": "RENDERS_TEMPLATE" },
    { "source": "view:accounts.CustomPasswordResetView", "target": "template:accounts/password_reset.html", "type": "RENDERS_TEMPLATE" },
    { "source": "view:accounts.CustomPasswordResetView", "target": "template:accounts/password_reset_email.html", "type": "USES_EMAIL_TEMPLATE" },
    { "source": "view:accounts.CustomPasswordResetView", "target": "template:accounts/password_reset_subject.txt", "type": "USES_SUBJECT_TEMPLATE" },
    { "source": "view:accounts.CustomPasswordResetDoneView", "target": "template:accounts/password_reset_done.html", "type": "RENDERS_TEMPLATE" },
    { "source": "view:accounts.CustomPasswordResetConfirmView", "target": "template:accounts/password_reset_confirm.html", "type": "RENDERS_TEMPLATE" },
    { "source": "view:accounts.CustomPasswordResetCompleteView", "target": "template:accounts/password_reset_complete.html", "type": "RENDERS_TEMPLATE" },
    { "source": "url:/accounts/signup/", "target": "view:accounts.SignUpView", "type": "ROUTES_TO_VIEW" },
    { "source": "url:/accounts/profile/", "target": "view:accounts.ProfileView", "type": "ROUTES_TO_VIEW" },
    { "source": "url:/accounts/login/", "target": "view:accounts.CustomLoginView", "type": "ROUTES_TO_VIEW" },
    { "source": "url:/accounts/logout/", "target": "view:accounts.CustomLogoutView", "type": "ROUTES_TO_VIEW" },
    { "source": "url:/accounts/password-reset/", "target": "view:accounts.CustomPasswordResetView", "type": "ROUTES_TO_VIEW" },
    { "source": "url:/accounts/password-reset/done/", "target": "view:accounts.CustomPasswordResetDoneView", "type": "ROUTES_TO_VIEW" },
    { "source": "url:/accounts/reset/<uidb64>/<token>/", "target": "view:accounts.CustomPasswordResetConfirmView", "type": "ROUTES_TO_VIEW" },
    { "source": "url:/accounts/reset/done/", "target": "view:accounts.CustomPasswordResetCompleteView", "type": "ROUTES_TO_VIEW" },
    { "source": "setting:AUTH_USER_MODEL", "target": "model:accounts.User", "type": "DEFINES_MODEL_REFERENCE" },
    { "source": "setting:LOGIN_URL", "target": "url:/accounts/login/", "type": "DEFINES_URL_REFERENCE" },
    { "source": "setting:LOGIN_REDIRECT_URL", "target": "url:/accounts/profile/", "type": "DEFINES_URL_REFERENCE" },
    { "source": "view:accounts.SignUpView", "target": "view:accounts.ProfileView", "type": "REDIRECTS_TO_URL_NAME", "via": "accounts:profile"},
    { "source": "view:accounts.ProfileView", "target": "view:accounts.ProfileView", "type": "REDIRECTS_TO_URL_NAME", "via": "accounts:profile"},
    { "source": "view:accounts.CustomLogoutView", "target": "view:accounts.CustomLoginView", "type": "REDIRECTS_TO_URL_NAME", "via": "accounts:login"},
    { "source": "view:accounts.CustomPasswordResetView", "target": "view:accounts.CustomPasswordResetDoneView", "type": "REDIRECTS_TO_URL_NAME", "via": "accounts:password_reset_done"},
    { "source": "view:accounts.CustomPasswordResetConfirmView", "target": "view:accounts.CustomPasswordResetCompleteView", "type": "REDIRECTS_TO_URL_NAME", "via": "accounts:password_reset_complete"},
    { "source": "model:review_manager.SearchSession", "target": "model:accounts.User", "type": "FOREIGN_KEY", "field_name": "created_by" },
    { "source": "model:review_manager.SessionActivity", "target": "model:review_manager.SearchSession", "type": "FOREIGN_KEY", "field_name": "session" },
    { "source": "model:review_manager.SessionActivity", "target": "model:accounts.User", "type": "FOREIGN_KEY", "field_name": "performed_by" },
    { "source": "form:review_manager.SessionCreateForm", "target": "model:review_manager.SearchSession", "type": "BASED_ON_MODEL" },
    { "source": "form:review_manager.SessionCreateForm", "target": "model:review_manager.SessionActivity", "type": "CREATES_MODEL_INSTANCE_IN_METHOD", "method_name": "save" },
    { "source": "view:review_manager.session_create_view", "target": "form:review_manager.SessionCreateForm", "type": "USES_FORM" },
    { "source": "view:review_manager.session_create_view", "target": "template:review_manager/session_create.html", "type": "RENDERS_TEMPLATE" },
    { "source": "view:review_manager.session_create_view", "target": "url:search_strategy:define", "type": "REDIRECTS_TO_URL_NAME", "via": "search_strategy:define", "comment": "Target URL entity is a placeholder as search_strategy app is not yet defined." },
    { "source": "url:/review_manager/create/", "target": "view:review_manager.session_create_view", "type": "ROUTES_TO_VIEW" },
    
    // Sprint 6: Advanced Features Relations
    { "source": "model:review_manager.SessionStatusHistory", "target": "model:review_manager.SearchSession", "type": "FOREIGN_KEY", "field_name": "session" },
    { "source": "model:review_manager.SessionStatusHistory", "target": "model:accounts.User", "type": "FOREIGN_KEY", "field_name": "changed_by" },
    { "source": "model:review_manager.SessionArchive", "target": "model:review_manager.SearchSession", "type": "ONE_TO_ONE", "field_name": "session" },
    { "source": "model:review_manager.SessionArchive", "target": "model:accounts.User", "type": "FOREIGN_KEY", "field_name": "archived_by" },
    { "source": "model:review_manager.SessionArchive", "target": "model:accounts.User", "type": "FOREIGN_KEY", "field_name": "restored_by" },
    { "source": "model:review_manager.UserSessionStats", "target": "model:accounts.User", "type": "ONE_TO_ONE", "field_name": "user" },
    
    // Signal Handler Relations
    { "source": "class:review_manager.StatusChangeSignalHandler", "target": "model:review_manager.SearchSession", "type": "HANDLES_SIGNALS_FOR" },
    { "source": "class:review_manager.StatusChangeSignalHandler", "target": "model:review_manager.SessionStatusHistory", "type": "CREATES_MODEL_INSTANCE" },
    { "source": "class:review_manager.StatusChangeSignalHandler", "target": "model:review_manager.SessionActivity", "type": "CREATES_MODEL_INSTANCE" },
    { "source": "class:review_manager.StatusChangeSignalHandler", "target": "model:review_manager.SessionArchive", "type": "CREATES_MODEL_INSTANCE" },
    { "source": "class:review_manager.StatusChangeSignalHandler", "target": "model:review_manager.UserSessionStats", "type": "UPDATES_MODEL_INSTANCE" },
    { "source": "class:review_manager.SignalUtils", "target": "class:review_manager.StatusChangeSignalHandler", "type": "PROVIDES_UTILITIES_FOR" },
    { "source": "class:review_manager.SessionChangeTrackingMiddleware", "target": "class:review_manager.StatusChangeSignalHandler", "type": "PROVIDES_CONTEXT_FOR" },
    
    // View Relations
    { "source": "view:review_manager.ActivityTimelineView", "target": "model:review_manager.SearchSession", "type": "MANAGES_MODEL_INSTANCE" },
    { "source": "view:review_manager.ActivityTimelineView", "target": "model:review_manager.SessionActivity", "type": "QUERIES_MODEL" },
    { "source": "view:review_manager.ActivityTimelineView", "target": "template:review_manager/activity_timeline.html", "type": "RENDERS_TEMPLATE" },
    { "source": "view:review_manager.StatusHistoryView", "target": "model:review_manager.SearchSession", "type": "MANAGES_MODEL_INSTANCE" },
    { "source": "view:review_manager.StatusHistoryView", "target": "model:review_manager.SessionStatusHistory", "type": "QUERIES_MODEL" },
    { "source": "view:review_manager.StatusHistoryView", "target": "template:review_manager/status_history.html", "type": "RENDERS_TEMPLATE" },
    { "source": "view:review_manager.ArchiveManagementView", "target": "model:review_manager.SearchSession", "type": "QUERIES_MODEL" },
    { "source": "view:review_manager.ArchiveManagementView", "target": "model:review_manager.SessionArchive", "type": "QUERIES_MODEL" },
    { "source": "view:review_manager.ArchiveManagementView", "target": "template:review_manager/archive_management.html", "type": "RENDERS_TEMPLATE" },
    { "source": "view:review_manager.ArchiveSessionView", "target": "model:review_manager.SearchSession", "type": "MANAGES_MODEL_INSTANCE" },
    { "source": "view:review_manager.ArchiveSessionView", "target": "class:review_manager.SignalUtils", "type": "USES_UTILITY" },
    { "source": "view:review_manager.UnarchiveSessionView", "target": "model:review_manager.SearchSession", "type": "MANAGES_MODEL_INSTANCE" },
    { "source": "view:review_manager.UnarchiveSessionView", "target": "class:review_manager.SignalUtils", "type": "USES_UTILITY" },
    { "source": "view:review_manager.BulkArchiveView", "target": "model:review_manager.SearchSession", "type": "MANAGES_MODEL_INSTANCE" },
    { "source": "view:review_manager.BulkArchiveView", "target": "class:review_manager.SignalUtils", "type": "USES_UTILITY" },
    { "source": "view:review_manager.StatsAnalyticsView", "target": "model:review_manager.SearchSession", "type": "QUERIES_MODEL" },
    { "source": "view:review_manager.StatsAnalyticsView", "target": "model:review_manager.UserSessionStats", "type": "QUERIES_MODEL" },
    { "source": "view:review_manager.StatsAnalyticsView", "target": "template:review_manager/stats_analytics.html", "type": "RENDERS_TEMPLATE" },
    
    // AJAX Function Relations
    { "source": "function:review_manager.activity_timeline_ajax", "target": "model:review_manager.SearchSession", "type": "QUERIES_MODEL" },
    { "source": "function:review_manager.activity_timeline_ajax", "target": "model:review_manager.SessionActivity", "type": "QUERIES_MODEL" },
    { "source": "function:review_manager.delete_activity_ajax", "target": "model:review_manager.SessionActivity", "type": "MANAGES_MODEL_INSTANCE" },
    { "source": "function:review_manager.user_stats_ajax", "target": "model:review_manager.UserSessionStats", "type": "QUERIES_MODEL" },
    { "source": "function:review_manager.user_stats_ajax", "target": "model:review_manager.SearchSession", "type": "QUERIES_MODEL" },
    { "source": "function:review_manager.export_session_data_ajax", "target": "model:review_manager.SearchSession", "type": "QUERIES_MODEL" },
    { "source": "function:review_manager.export_session_data_ajax", "target": "model:review_manager.SessionActivity", "type": "QUERIES_MODEL" },
    { "source": "function:review_manager.export_session_data_ajax", "target": "model:review_manager.SessionStatusHistory", "type": "QUERIES_MODEL" },
    { "source": "function:review_manager.productivity_chart_data_ajax", "target": "model:review_manager.SearchSession", "type": "QUERIES_MODEL" },
    
    // Template Relations
    { "source": "template:review_manager/activity_timeline.html", "target": "templatetags:review_manager_extras", "type": "USES_TEMPLATE_TAGS" },
    { "source": "template:review_manager/status_history.html", "target": "templatetags:review_manager_extras", "type": "USES_TEMPLATE_TAGS" },
    { "source": "template:review_manager/archive_management.html", "target": "templatetags:review_manager_extras", "type": "USES_TEMPLATE_TAGS" },
    { "source": "template:review_manager/stats_analytics.html", "target": "templatetags:review_manager_extras", "type": "USES_TEMPLATE_TAGS" },
    { "source": "template:review_manager/activity_timeline.html", "target": "css:review_manager/css/timeline.css", "type": "INCLUDES_CSS" },
    { "source": "template:review_manager/status_history.html", "target": "css:review_manager/css/status-history.css", "type": "INCLUDES_CSS" },
    { "source": "template:review_manager/activity_timeline.html", "target": "css:review_manager/css/base.css", "type": "INCLUDES_CSS" },
    { "source": "template:review_manager/status_history.html", "target": "css:review_manager/css/base.css", "type": "INCLUDES_CSS" },
    { "source": "template:review_manager/archive_management.html", "target": "css:review_manager/css/base.css", "type": "INCLUDES_CSS" },
    { "source": "template:review_manager/stats_analytics.html", "target": "css:review_manager/css/base.css", "type": "INCLUDES_CSS" },
    
    // URL to View Relations
    { "source": "url:/review/<int:session_id>/timeline/", "target": "view:review_manager.ActivityTimelineView", "type": "ROUTES_TO_VIEW" },
    { "source": "url:/review/<int:session_id>/history/", "target": "view:review_manager.StatusHistoryView", "type": "ROUTES_TO_VIEW" },
    { "source": "url:/review/archives/", "target": "view:review_manager.ArchiveManagementView", "type": "ROUTES_TO_VIEW" },
    { "source": "url:/review/<int:session_id>/archive/", "target": "view:review_manager.ArchiveSessionView", "type": "ROUTES_TO_VIEW" },
    { "source": "url:/review/<int:session_id>/unarchive/", "target": "view:review_manager.UnarchiveSessionView", "type": "ROUTES_TO_VIEW" },
    { "source": "url:/review/bulk-archive/", "target": "view:review_manager.BulkArchiveView", "type": "ROUTES_TO_VIEW" },
    { "source": "url:/review/analytics/", "target": "view:review_manager.StatsAnalyticsView", "type": "ROUTES_TO_VIEW" },
    
    // Cross-view Navigation Relations
    { "source": "view:review_manager.ActivityTimelineView", "target": "view:review_manager.StatusHistoryView", "type": "PROVIDES_NAVIGATION_TO" },
    { "source": "view:review_manager.StatusHistoryView", "target": "view:review_manager.ActivityTimelineView", "type": "PROVIDES_NAVIGATION_TO" },
    { "source": "view:review_manager.ArchiveSessionView", "target": "view:review_manager.DashboardView", "type": "REDIRECTS_TO_URL_NAME", "via": "review_manager:dashboard" },
    { "source": "view:review_manager.UnarchiveSessionView", "target": "view:review_manager.SessionDetailView", "type": "REDIRECTS_TO_URL_NAME", "via": "review_manager:session_detail" },
    { "source": "view:review_manager.BulkArchiveView", "target": "view:review_manager.DashboardView", "type": "REDIRECTS_TO_URL_NAME", "via": "review_manager:dashboard" }
  ]
}
